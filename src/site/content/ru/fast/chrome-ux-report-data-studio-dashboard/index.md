---
layout: post
title: Использование панели CrUX Dashboard в Data Studio
authors:
  - rviscomi
hero: image/admin/k3hWnnwqTvg7w7URsbIK.png
description: Data Studio — это мощный инструмент визуализации данных, позволяющий создавать панели мониторинга на основе источников больших данных, таких как отчет Chrome UX. В этой статье вы узнаете, как создать собственную пользовательскую панель CrUX Dashboard для отслеживания пользовательских впечатлений.
date: 2020-06-22
tags:
  - performance
  - blog
---

[Data Studio](https://marketingplatform.google.com/about/data-studio/) — это мощный инструмент визуализации данных, позволяющий создавать панели мониторинга поверх источников больших данных, таких как отчет [Chrome UX](https://developers.google.com/web/tools/chrome-user-experience-report/) (CrUX). В этой статье вы узнаете, как создать собственную пользовательскую панель CrUX для отслеживания  тенденций взаимодействия с пользователем в источнике.

{% Img src="image/admin/AG2jdUtgsQzrxIUlLFyf.png", alt="Панель CrUX Dashboard", width="800", height="598" %}

Панель CrUX Dashboard построена с помощью функции Data Studio, которая называется [Community Connectors](https://developers.google.com/datastudio/connector/). Коннектор представляет собой предварительно установленную связь между необработанными данными CrUX в [BigQuery](https://console.cloud.google.com/bigquery?p=chrome-ux-report) и визуализациями Data Studio. Это избавляет пользователей панели от необходимости писать запросы или создавать гистограммы. Всё создано за вас: нужно только указать источник, и будет сгенерирована настраиваемая панель управления.

## Создание панели

Для начала перейдите на [g.co/chromeuxdash](https://g.co/chromeuxdash). Это приведет вас на страницу коннекторов сообщества CrUX, где вы можете указать источник, для которого будет сгенерирована панель управления. Обратите внимание, что новым пользователям может потребоваться заполнить запросы разрешений или маркетинговых предпочтений.

{% Img src="image/admin/SSUqCau3HiN5qBbewX6h.png", alt="Коннектор панели CrUX Dashboard", width="800", height="484" %}

В текстовом поле ввода нужно указывать только источники, а не полные URL-адреса. Например:

{% Compare 'better', 'Источник (поддерживается)'%}

```text
https://developers.google.com
```

{% endCompare %}

{% Compare 'worse', 'URL (Не поддерживается)' %}

```text
https://developers.google.com/web/tools/chrome-user-experience-report/
```

{% endCompare %}

Если вы опустите протокол, будет предполагаться протокол HTTPS. Поддомены имеют значение, например, `https://developers.google.com` и `https://www.google.com` считаются разными источниками.

Некоторые распространенные проблемы с источниками связаны с предоставлением неправильного протокола, например, `http://` вместо `https://`, и опусканием поддомена, когда это необходимо. Некоторые веб-сайты содержат перенаправления, поэтому если `http://example.com` перенаправляет на `https://www.example.com`, то следует использовать последний, который является канонической версией источника. Как правило, нужно использовать источник, который пользователи видят в строке URL.

Если ваш источник не включен в набор данных CrUX, вы можете получить сообщение об ошибке, подобное приведенному ниже. В наборе данных более 4 миллионов источников, но нужный вам источник может не содержать достаточно данных для включения в набор.

{% Img src="image/admin/qt0jWTgtdS93hDKW2SCm.png", alt="Сообщение панели CrUX Dashboard об ошибке", width="800", height="409" %}

Если источник существует, вы попадете на страницу схемы для панели. Здесь показаны все включенные поля: каждый эффективный тип подключения, каждый форм-фактор, месяц выпуска набора данных, распределение производительности для каждой метрики и, конечно же, название источника. На этой странице вам ничего не нужно делать или изменять, просто нажмите **«Создать отчет»**, чтобы продолжить.

{% Img src="image/admin/DTNigYO4gUwovCuCgyhH.png", alt="Схема панели CrUX Dashboard", width="800", height="403" %}

## Использование панели

Каждая панель имеет три типа страниц:

1. Обзор Core Web Vitals.
2. Метрики производительности.
3. Демографические данные пользователей.

На каждой странице есть гистограмма, показывающая распределение во времени для каждого доступного ежемесячного выпуска. По мере выпуска новых наборов данных вы можете просто обновлять панель, чтобы получать самые свежие данные.

Ежемесячные наборы данных публикуются во второй вторник каждого месяца. Например, набор данных, состоящий из данных о пользовательском опыте за май месяц, публикуется во второй вторник июня.

### Обзор Core Web Vitals

На первой странице представлен месячный обзор метрик производительности [Core Web Vitals](/vitals/). Это самые важные показатели UX, на которых Google рекомендует сосредоточиться.

{% Img src="image/admin/h8iCTgvmG4DS2zScvatc.png", alt="Обзор Core Web Vitals на панели CrUX Dashboard", width="800", height="906" %}

Используйте страницу Core Web Vitals, чтобы понять, как пользователи настольных компьютеров и телефонов воспринимают источник. По умолчанию выбирается последний месяц на момент создания панели. Чтобы переключаться между ежемесячными выпусками, используйте фильтр **Month (Месяц)** в верхней части страницы.

Обратите внимание, что данные по планшетам по умолчанию не отображаются на этих гистограммах, но при необходимости вы можете удалить фильтр **No Tablet (Без планшета)** в конфигурации гистограммы, как показано ниже.

{% Img src="image/admin/lD3eZ3LipJmBGmmkrUvG.png", alt="Изменение панели CrUX Dashboard для отображения данных по планшетам на странице Core Web Vitals", width="800", height="288" %}

### Метрики производительности

После страницы с Core Web Vitals идут отдельные страницы для всех [метрик](https://developers.google.com/web/tools/chrome-user-experience-report/#metrics) в наборе данных CrUX.

{% Img src="image/admin/AG2jdUtgsQzrxIUlLFyf.png", alt="Страница LCP на панели CrUX", width="800", height="598" %}

На каждой странице находится фильтр **Device (Устройство)**, который можно использовать для ограничения форм-факторов, включенных в данные о взаимодействии с пользователями. Например, можно детализировать данные для мобильного сектора. Этот параметр сохраняется на всех страницах.

Основными визуализациями на этих страницах являются ежемесячные распределения пользовательских впечатлений, классифицированные как Good (Хорошо), Needs Improvement (Требует улучшения) и Poor (Плохо). На гистограммах с цветовой кодировкой указан процентный диапазон для каждой из категорий. Например, на скриншоте выше видно, что процент «хорошей» метрики [LCP (Скорость загрузки основного контента)](/lcp/#what-is-a-good-lcp-score) колеблется и немного ухудшается в последние месяцы.

Процентное соотношение «хороших» и «плохих» пользовательских впечатлений за последний месяц показано над гистограммой вместе с индикатором процентного различия по сравнению с предыдущим месяцем. Для этого источника «хорошие» впечатления от LCP упали на 3,2% до 56,04% по сравнению с предыдущим месяцем.

{% Aside 'caution' %} Из-за особенностей Data Studio вы можете иногда видеть здесь надпись `No Data` (Нет данных). Это нормально и связано с тем, что выпуск за предыдущий месяц становится доступен только во второй вторник. {% endAside %}

Кроме того, для LCP и других метрик Core Web Vitals, которые предоставляют явные рекомендации по процентилям, между «хорошими» и «плохими» процентными величинами указывается также показатель P75. Это значение соответствует 75-му процентилю пользовательских впечатлений. Другими словами, 75% впечатлений лучше этого значения. Следует отметить, что P75 относится к общему распределению по источнику на *всех устройствах*. Выбор конкретных устройств с помощью фильтра **Device (Устройство)** не приведет к пересчету процентиля.

{% Details %} {% DetailsSummary %} Скучные технические оговорки относительно процентилей {% endDetailsSummary%}

Имейте в виду, что процентили метрик основаны на данных гистограммы из [BigQuery](/chrome-ux-report-bigquery/), поэтому детализация будет грубой: 1000 мс для LCP, 100 мс для FID и 0,05 для CLS. Другими словами, показатель P75 LCP, равный 3800 мс, указывает, что истинный 75-й процентиль находится где-то между 3800 мс и 3900 мс.

Кроме того, в наборе данных BigQuery используется метод, называемый «распределение по ячейкам», при котором плотности пользовательских впечатлений по сути сгруппированы в очень грубые ячейки с уменьшающейся степенью детализации. Это позволяет нам включать мельчайшие плотности в хвост распределения без необходимости превышать четырехзначную точность. Например, значения LCP менее 3 секунд группируются в ячейки шириной 200 мс. Между 3 и 10 секундами ячейки имеют ширину 500 мс. После 10 секунд ячейки имеют ширину 5000 мс и т. д. Вместо того, чтобы иметь ячейки различной ширины, распределение ячеек гарантирует, что все ячейки имеют постоянную ширину 100 мс (наибольший общий делитель), а распределение линейно интерполируется по каждой ячейке.

Соответствующие значения P75 в таких инструментах, как PageSpeed Insights, не основаны на общедоступном наборе данных BigQuery и могут предоставлять значения с точностью до миллисекунды. {% endDetails %}

### Демографические данные пользователей

На демографических страницах пользователей указаны два [фактора распределения](https://developers.google.com/web/tools/chrome-user-experience-report/#dimensions): типы устройств и эффективные типы подключения (ECT). Эти страницы иллюстрируют распределение просмотров страниц по всему источнику для пользователей в каждом демографическом сегменте.

На странице распределения устройств показано распределение пользователей телефонов, компьютеров и планшетов с течением времени. Для многих источников, как правило, практически нет данных по планшетам, поэтому вы часто будете видеть 0% сбоку гистограммы.

{% Img src="image/admin/6PXh8MoQTWHnHXf8o1ZU.png", alt="Страница панели CrUX Dashboard о распределении по устройствам", width="800", height="603" %}

Точно так же страница распределения ECT показывает разбивку по соединениям 4G, 3G, 2G, медленному 2G и автономному использованию.

{% Aside 'key-term' %} Эффективные типы подключения считаются *эффективными*, поскольку они основаны на измерениях пропускной способности на устройствах пользователей и не подразумевают использование какой-либо конкретной технологии. Например, пользователь настольного компьютера с быстрым Wi-Fi может быть обозначен как 4G, а более медленное мобильное соединение может быть обозначено как 2G. {% endAside %}

Распределения для этих факторов рассчитываются с использованием сегментов данных гистограммы [FCP (Первой отрисовки контента)](/fcp/).

## Часто задаваемые вопросы

### В чем преимущества CrUX Dashboard перед другими инструментами?

Панель CrUX Dashboard основана на тех же базовых данных, которые доступны в BigQuery, но вам не нужно писать ни одной строчки SQL для извлечения данных, и вам никогда не придется беспокоиться о превышении каких-либо бесплатных квот. Настройка панели выполняется легко и быстро, визуализации создаются автоматически, и у вас есть возможность поделиться ими с кем угодно.

### Есть ли ограничения на использование CrUX Dashboard?

Панель CrUX Dashboard основана на BigQuery, поэтому она унаследовала все ограничения данного веб-сервиса. Она ограничена данными на уровне источника с ежемесячной детализацией.

Панель CrUX Dashboard также отказывается от некоторой универсальности необработанных данных в BigQuery в пользу простоты и удобства. Например, распределения метрик представлены только в виде «хорошо», «требует улучшения» и «плохо», в отличие от полных гистограмм. В CrUX DashboardX данные представлены на глобальном уровне, в то время как набор данных BigQuery позволяет увеличить масштаб по отдельным странам.

### Где можно больше узнать о Data Studio?

Посетите [страницу функций Data Studio](https://marketingplatform.google.com/about/data-studio/features/) для получения дополнительной информации.
