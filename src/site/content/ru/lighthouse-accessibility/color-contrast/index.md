---
layout: post
title: Недостаточное соотношение контрастности цветов фона и текста
description: Узнайте, как улучшить доступность веб-страницы, обеспечив достаточную цветовую контрастность всего текста.
date: 2019-05-02
updated: 2019-09-19
web_lighthouse:
  - color-contrast
---

Текст с низким соотношением контрастности, т. е. недостаточно отличающийся по яркости от фона, может быть трудным для чтения. Например, светло-серый текст на белом фоне сложно разобрать, из-за чего страдает легкость восприятия и падает скорость чтения.

Хотя эта проблема наиболее сильно затрагивает слабовидящих людей, текст с низкой контрастностью может быть неудобочитаемым для любых пользователей. Например, если вам приходилось читать текст с телефона на улице, вы наверняка сталкивались с недостаточной его контрастностью.

## В каких случаях проверка контрастности цветов в Lighthouse завершается неудачей

Lighthouse помечает текст как не прошедший проверку, если обнаруживает недостаточно высокое соотношение контрастности между цветом фона и самого текста:

<figure> {% Img src="image/tcFciHGuF3MxnTr1y5ue01OGLBn2/hD4Uc22QqAdrBLdRPhJe.png", alt="Проверка Lighthouse, показывающая недостаточное соотношение контрастности цветов текста и фона", width="800", height="343" %}</figure>

Для оценки контрастности текста Lighthouse использует критерий успеха 1.4.3 из <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum" rel="noopener">рекомендаций WCAG 2.1</a>:

- Текст высотой от 18 пунктов (или 14 пунктов, если используется жирное начертание) должен иметь коэффициент контрастности не ниже 3:1.
- Для более мелкого текста текста коэффициент контрастности должен составлять не ниже 4,5:1.

Особенности реализации проверки не позволяют Lighthouse учитывать контрастность текста, наложенного на изображения.

{% Aside 'caution' %} В рекомендациях WCAG версии 2.1 требования к цветовому контрасту были дополнены и теперь [распространяются на изображения и элементы интерфейса](https://www.w3.org/TR/WCAG21/#non-text-contrast). Lighthouse не проверяет такие элементы, однако вам следует сделать это самостоятельно, чтобы убедиться, что ваш сайт подходит для слабовидящих людей. {% endAside %}

{% include 'content/lighthouse-accessibility/scoring.njk' %}

## Как убедиться, что текст имеет достаточную цветовую контрастность

Убедитесь, что весь текст на странице соответствует минимальным соотношениям цветовой контрастности, установленным <a href="https://www.w3.org/TR/WCAG21/#contrast-minimum" rel="noopener">рекомендациями WCAG</a>:

- 3:1 для текста высотой от 18 пунктов (или 14 пунктов, если используется жирное начертание).
- 4,5:1 для более мелкого текста.

Чтобы подобрать цвет, отвечающий требованиям к минимальной контрастности, вы можете воспользоваться инструментом выбора цвета в Chrome DevTools:

1. Щелкните правой кнопкой мыши (на Mac можно использовать `Command`+щелчок) на элементе, который вы хотите проверить, и выберите пункт «Просмотреть код».
2. На вкладке **Стили** панели **Элементы** найдите среди списка свойств элемента значение `color`.
3. Щелкните иконку предпросмотра цвета рядом со значением.

Инструмент выбора цвета сообщит вам, соответствует ли элемент требованиям к цветовому контрасту, принимая во внимание размер и толщину шрифта:

<figure> {% Img src="image/tcFciHGuF3MxnTr1y5ue01OGLBn2/osaU6NOcyElBALiXmRa5.png", alt="Скриншот инструмента выбора цвета в Chrome DevTools. Информация о цветовом контрасте выделена прямоугольником", width="298", height="430" %}</figure>

При помощи инструмента выбора цвета вы можете подстроить цвет, чтобы его контрастность стала достаточно высокой. Проще всего использовать для выбора цвета формат HSL. Переключитесь на этот формат, нажав на переключатель в правой части окна выбора цвета:

<figure> {% Img src="image/tcFciHGuF3MxnTr1y5ue01OGLBn2/uUGdLr7fYCrmqtCrtpJK.png", alt="Скриншот инструмента выбора цвета в Chrome DevTools. Переключатель цветового формата выделен прямоугольником", width="298", height="430" %}</figure>

Как только вы подберете подходящее цветовое значение, укажите его в CSS-коде сайта.

Более сложные случаи, такие как текст, отображаемый поверх градиента или изображения, необходимо проверять вручную; то же самое касается графики и элементов интерфейса. Для исправления текста, отображаемого поверх изображения, используйте в DevTools средство выбора цвета фона, позволяющее проверить фон, на котором отображается текст:

<figure> {% Img src="image/tcFciHGuF3MxnTr1y5ue01OGLBn2/PFznOtjzMF3nZy3IsCtW.png", alt="Скриншот инструмента выбора цвета фона в Chrome DevTools", width="301", height="431" %}</figure>

В остальных случаях можно воспользоваться специальным инструментом, таким как <a href="https://developer.paciellogroup.com/resources/contrastanalyser" rel="noopener">Colour Contrast Analyser</a> от Paciello Group.

## Ресурсы

- <a href="https://github.com/GoogleChrome/lighthouse/blob/master/core/audits/accessibility/color-contrast.js" rel="noopener">Исходный код проверки <strong>Background and foreground colors do not have a sufficient contrast ratio</strong> («Недостаточное соотношение контрастности цветов фона и текста»)</a>
- <a href="https://dequeuniversity.com/rules/axe/3.3/color-contrast" rel="noopener">Цвет текстовых элементов должен быть достаточно контрастным по отношению к фону (Deque university)</a>
- <a href="https://developer.paciellogroup.com/resources/contrastanalyser" rel="noopener">Colour Contrast Analyser</a>
