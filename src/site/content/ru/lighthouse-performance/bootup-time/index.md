---
layout: post
title: Сократите время выполнения JavaScript
description: Узнайте, как выполнение JavaScript может снизить производительность вашей страницы и как можно его ускорить.
date: 2019-05-02
updated: 2019-10-04
web_lighthouse:
  - bootup-time
tags:
  - memory
---

Когда выполнение JavaScript-кода занимает много времени, производительность страницы падает по нескольким причинам:

- **Нагрузка на сеть**

    Чем больше байт пересылается, тем дольше время скачивания.

- **Затраты на обработку и компиляцию кода**

    Обработка и компиляция JavaScript происходит в основном потоке. Когда основной поток занят, страница не может отвечать на ввод пользователя.

- **Затраты на выполнение**

    JavaScript-код выполняется в основном потоке. Кроме того, преждевременное выполнение на странице большого количества кода приводит к увеличению [времени до интерактивности (TTI)](/tti/), которое является одним из ключевых показателей, влияющих на субъективную скорость работы страницы.

- **Расход памяти**

    Если ваш JavaScript-код хранит большое количество указателей, расход памяти может быть существенным, что, в свою очередь, может быть причиной медленной и неотзывчивой работы страницы. Утечки памяти могут вызвать полное зависание страницы.

## Почему проверка времени выполнения JavaScript в Lighthouse завершается неудачей

[Lighthouse](https://developers.google.com/web/tools/lighthouse/) показывает предупреждение, если выполнение JavaScript занимает более 2 секунд. Если  выполнение занимает более 3,5 секунд, проверка завершается неудачей:

<figure> {% Img src="image/tcFciHGuF3MxnTr1y5ue01OGLBn2/BoomMoQNycPXsy34DZZs.png", alt="Скриншот проверки «Сократите время выполнения JavaScript» в Lighthouse", width="800", height="321" %}</figure>

Чтобы помочь вам выявить главные причины медленного выполнения кода, Lighthouse сообщает о времени, затрачиваемом на выполнение, оценку и обработку каждого файла JavaScript, загружаемого страницей.

{% include 'content/lighthouse-performance/scoring.njk' %}

## Как ускорить выполнение JavaScript

{% include 'content/lighthouse-performance/js-perf.njk' %}

## Ресурсы

[Исходный проверки **Reduce JavaScript execution time** («Сократите время выполнения JavaScript»)](https://github.com/GoogleChrome/lighthouse/blob/master/lighthouse-core/audits/bootup-time.js)
