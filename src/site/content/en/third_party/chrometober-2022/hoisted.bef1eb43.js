const et=()=>{const u=document.querySelectorAll("[data-scroll-trigger]"),h=document.querySelectorAll(".page__side"),k=y=>{for(let R of h)R.classList.remove("in-view"),R.triggers&&R.triggers.forEach(({el:S,trigger:M,action:F})=>{S&&M&&F&&S.removeEventListener(M,F)});let v=y.reverse().find(R=>R.isIntersecting),E;if(!v&&y.length>1)return;!v&&y.length===1?(E=(!y[0].isIntersecting&&y[0]).target.dataset.scrollTrigger-1,v=document.querySelector(`[data-scroll-target="${E}"]`)):(v=v.target,E=parseInt(v.dataset.scrollTrigger));let O=document.querySelector(`[data-scroll-target="${E}"] .page__side--back`),b=document.querySelector(`[data-scroll-target="${E+1}"] .page__side--front`);h.forEach(R=>R.setAttribute("inert","")),O?.removeAttribute("inert"),O?.classList.add("in-view"),b?.removeAttribute("inert"),b?.classList.add("in-view"),O?.triggers&&O.triggers.forEach(({el:R,trigger:S,action:M})=>{R&&S&&M?R.addEventListener(S,M):M&&!R&&!S&&M()}),b?.triggers&&b.triggers.forEach(({el:R,trigger:S,action:M})=>{R&&S&&M?R.addEventListener(S,M):M&&!R&&!S&&M()}),window.ga&&window.ga("send","event",{event_action:"Section Order",event_label:`pages-${E}-and-${E+1}`,event_category:"Chrometober Book",non_interaction:!0})};(y=>{const v=new IntersectionObserver(k,{threshold:.9});for(let E of y)v.observe(E)})(u)};et();(function(){function u(i,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function h(i,n,e){return n&&u(i.prototype,n),e&&u(i,e),i}function k(){return(k=Object.assign||function(i){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}return i}).apply(this,arguments)}function I(i,n){i.prototype=Object.create(n.prototype),i.prototype.constructor=i,y(i,n)}function y(i,n){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(i,n)}function v(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function E(i,n){(n==null||n>i.length)&&(n=i.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=i[e];return t}function O(i,n){var e=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e)return(e=e.call(i)).next.bind(e);if(Array.isArray(i)||(e=function(r,o){if(r){if(typeof r=="string")return E(r,o);var a=Object.prototype.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?E(r,o):void 0}}(i))||n&&i&&typeof i.length=="number"){e&&(i=e);var t=0;return function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(function(){var i,n=new WeakMap;function e(a){for(var l,m=[],d=0;d<a.length;d++)m[d]=typeof(l=a[d])=="number"?new CSSUnitValue(l,"number"):l;return m}var t=function(){function a(l,m,d,f){n.set(this,{values:e(l),operator:m,name:d||m,delimiter:f||", "})}return a.prototype.toString=function(){var l=n.get(this);return l.name+"("+l.values.join(l.delimiter)+")"},h(a,[{key:"operator",get:function(){return n.get(this).operator}},{key:"values",get:function(){return n.get(this).values}}]),a}(),r=((i={CSSUnitValue:function(){function a(l,m){n.set(this,{value:l,unit:m})}return a.prototype.toString=function(){var l=n.get(this);return""+l.value+function(m){switch(m){case"percent":return"%";case"number":return"";default:return m.toLowerCase()}}(l.unit)},h(a,[{key:"value",get:function(){return n.get(this).value},set:function(l){n.get(this).value=l}},{key:"unit",get:function(){return n.get(this).unit}}]),a}(),CSSKeywordValue:function(){function a(l){this.value=l}return a.prototype.toString=function(){return this.value.toString()},a}(),CSSMathSum:function(a){function l(m){return a.call(this,arguments,"sum","calc"," + ")||this}return I(l,a),l}(t),CSSMathProduct:function(a){function l(m){return a.call(this,arguments,"product","calc"," * ")||this}return I(l,a),l}(t),CSSMathNegate:function(a){function l(m){return a.call(this,[arguments[0]],"negate","-")||this}return I(l,a),l}(t)}).CSSMathNegate=function(a){function l(m){return a.call(this,[1,arguments[0]],"invert","calc"," / ")||this}return I(l,a),l}(t),i.CSSMathMax=function(a){function l(){return a.call(this,arguments,"max")||this}return I(l,a),l}(t),i.CSSMathMin=function(a){function l(){return a.call(this,arguments,"min")||this}return I(l,a),l}(t),i);if(!window.CSS&&!Reflect.defineProperty(window,"CSS",{value:{}}))throw Error("Error installing CSSOM support");for(var o in window.CSSUnitValue||["number","percent","em","ex","px","cm","mm","in","pt","pc","Q","vw","vh","vmin","vmax","rems","ch","deg","rad","grad","turn","ms","s","Hz","kHz","dppx","dpi","dpcm","fr"].forEach(function(a){if(!Reflect.defineProperty(CSS,a,{value:function(l){return new CSSUnitValue(l,a)}}))throw Error("Error installing CSS."+a)}),r)if(!(o in window)&&!Reflect.defineProperty(window,o,{value:r[o]}))throw Error("Error installing CSSOM support for "+o)})(),new CSSKeywordValue("auto");var b=new WeakMap;function R(i){return i===document.scrollingElement?document:i}function S(i){F(i);var n=b.get(i).animations;if(n.length!==0)for(var e=i.currentTime,t=0;t<n.length;t++)n[t].tickAnimation(e)}function M(i,n){if(!i)return null;var e=getComputedStyle(i).writingMode=="horizontal-tb",t=i.scrollTop;return(n=="horizontal"||n=="inline"&&e||n=="block"&&!e)&&(t=Math.abs(i.scrollLeft)),t}function F(i){if(i instanceof ce){var n=i.subject;n&&getComputedStyle(n).display!="none"?X(i,ye(n)):X(i,null)}else(function(e){var t=b.get(e);t.anonymousSource&&X(e,Re(t.anonymousSource,t.anonymousTarget))})(i)}function X(i,n){var e=b.get(i),t=e.source,r=e.scrollListener;if(t!=n&&(t&&r&&R(t).removeEventListener("scroll",r),b.get(i).source=n,n)){var o=function(){S(i)};R(n).addEventListener("scroll",o),e.scrollListener=o}}function J(i,n){for(var e=b.get(i).animations,t=0;t<e.length;t++)e[t].animation==n&&e.splice(t,1)}function ae(i,n,e){for(var t=b.get(i).animations,r=0;r<t.length;r++)if(t[r].animation==n)return;t.push({animation:n,tickAnimation:e}),S(i)}var q=function(){function i(n){b.set(this,{source:null,orientation:"block",anonymousSource:n?n.anonymousSource:null,anonymousTarget:n?n.anonymousTarget:null,subject:null,inset:n?n.inset:null,animations:[],scrollListener:null}),X(this,n&&n.source!==void 0?n.source:document.scrollingElement),this.orientation=n&&n.orientation||"block",S(this)}return h(i,[{key:"source",get:function(){return b.get(this).source},set:function(n){X(this,n),S(this)}},{key:"orientation",get:function(){return b.get(this).orientation},set:function(n){if(["block","inline","horizontal","vertical"].indexOf(n)===-1)throw TypeError("Invalid orientation");b.get(this).orientation=n,S(this)}},{key:"duration",get:function(){return CSS.percent(100)}},{key:"phase",get:function(){var n=this.source;if(!n)return"inactive";var e=getComputedStyle(n);return e.display=="none"?"inactive":n==document.scrollingElement||e.overflow!="visible"&&e.overflow!="clip"?"active":"inactive"}},{key:"currentTime",get:function(){var n=this.source;if(!n||this.phase=="inactive")return null;var e=this.orientation,t=M(n,e),r=function(o,a){var l=getComputedStyle(o).writingMode=="horizontal-tb";return a==="block"?a=l?"vertical":"horizontal":a==="inline"&&(a=l?"horizontal":"vertical"),a==="vertical"?o.scrollHeight-o.clientHeight:a==="horizontal"?o.scrollWidth-o.clientWidth:void 0}(n,e);return r>0?CSS.percent(100*t/r):CSS.percent(100)}},{key:"__polyfill",get:function(){return!0}}]),i}();function oe(i,n){for(var e=i.parentElement;e!=null;){if(n(e))return e;e=e.parentElement}}function Re(i,n){return i=="root"?document.scrollingElement:ye(n)}function Ge(i){switch(getComputedStyle(i).display){case"block":case"inline-block":case"list-item":case"table":case"table-caption":case"flow-root":case"flex":case"grid":return!0}return!1}function xe(i){var n=getComputedStyle(i);return n.transform!="none"||n.perspective!="none"||n.willChange=="transform"||n.willChange=="perspective"||n.filter!="none"||n.willChange=="filter"||n.backdropFilter!="none"}function Xe(i){return getComputedStyle(i).position!="static"||xe(i)}function $e(i){switch(getComputedStyle(i).position){case"static":case"relative":case"sticky":return oe(i,Ge);case"absolute":return oe(i,Xe);case"fixed":return oe(i,xe)}}function ye(i){if(i){for(;i=$e(i);)switch(getComputedStyle(i)["overflow-x"]){case"auto":case"scroll":case"hidden":return i==document.body&&getComputedStyle(document.scrollingElement).overflow=="visible"?document.scrollingElement:i}return document.scrollingElement}}function Te(i,n){var e=b.get(i);return i.phase==="inactive"?null:i instanceof ce?Se(n,i.source,i.subject,e.orientation,e.inset):null}function Se(i,n,e,t,r){for(var o=0,a=0,l=e,m=n.offsetParent;l&&l!=m;)a+=l.offsetLeft,o+=l.offsetTop,l=l.offsetParent;a-=n.offsetLeft+n.clientLeft,o-=n.offsetTop+n.clientTop;var d=getComputedStyle(n),f=d.writingMode=="horizontal-tb",s=void 0,c=void 0,g=void 0;t=="horizontal"||t=="inline"&&f||t=="block"&&!f?(s=e.clientWidth,c=a,(d.direction=="rtl"||d.writingMode=="vertical-rl")&&(c+=n.scrollWidth-n.clientWidth),g=n.clientWidth):(s=e.clientHeight,c=o,g=n.clientHeight);var P=function(le,ie){var Y={start:0,end:0};if(!le)return Y;var me=le.split(" "),A=[];if(me.forEach(function(B){B.endsWith("%")?A.push(ie/100*parseFloat(B)):B.endsWith("px")?A.push(parseFloat(B)):B==="auto"&&A.push(0)}),A.length>2)throw TypeError("Invalid inset");return A.length==1?(Y.start=A[0],Y.end=A[0]):A.length==2&&(Y.start=A[0],Y.end=A[1]),Y}(r,g),T=c-g+P.end,_=c+s-P.start,w=T+s,D=_-s,U=Math.min(w,D),V=Math.max(w,D),Q=void 0,Z=void 0;switch(i){case"cover":Q=T,Z=_;break;case"contain":Q=U,Z=V;break;case"enter":Q=T,Z=U;break;case"exit":Q=V,Z=_}return{start:Q,end:Z}}function Me(i,n,e){return Ce(Te(i,n),e,Te(i,"cover"))}function Ce(i,n,e){return i&&e?(n.value/100*(i.end-i.start)+i.start-e.start)/(e.end-e.start):0}var ce=function(i){function n(e){var t;return e.axis&&(e.orientation=e.axis),t=i.call(this,e)||this,b.get(v(t)).subject=e&&e.subject?e.subject:void 0,F(v(t)),S(v(t)),t}return I(n,i),h(n,[{key:"source",get:function(){return F(this),b.get(this).source},set:function(e){throw new Error("Cannot set the source of a view timeline")}},{key:"subject",get:function(){return b.get(this).subject}},{key:"axis",get:function(){return b.get(this).orientation}},{key:"currentTime",get:function(){var e=null,t=M(this.source,this.orientation);if(t==e)return e;var r=Te(this,"cover");return r?CSS.percent((t-r.start)/(r.end-r.start)*100):e}}]),n}(q),Ke=window.Element.prototype.animate,Ne=window.Animation,Pe=["enter","exit","cover","contain"],ee=function(){function i(){var e=this;this.state="pending",this.nativeResolve=this.nativeReject=null,this.promise=new Promise(function(t,r){e.nativeResolve=t,e.nativeReject=r})}var n=i.prototype;return n.resolve=function(e){this.state="resolved",this.nativeResolve(e)},n.reject=function(e){this.state="rejected",this.promise.catch(function(){}),this.nativeReject(e)},i}();function ue(i){i.readyPromise=new ee,requestAnimationFrame(function(){i.timeline.currentTime!==null&&je(i)})}function _e(){return new DOMException("The user aborted a request","AbortError")}function te(i,n){if(n===null)return n;if(typeof n!="number")throw new DOMException("Unexpected value: "+n+".  Cannot convert to CssNumberish","InvalidStateError");var e=W(i);return CSS.percent(e?100*n/e:0)}function x(i,n){if(i.timeline){if(n===null)return n;if(n.unit==="percent"){var e=W(i);return n.value*e/100}throw new DOMException("CSSNumericValue must be a percentage for progress based animations.","NotSupportedError")}if(n==null||typeof n=="number")return n;var t=n.to("ms");if(convertTime)return t.value;throw new DOMException("CSSNumericValue must be either a number or a time value for time based animations.","InvalidStateError")}function Ae(i){if(i.finishedPromise&&i.finishedPromise.state=="pending"&&i.proxy.playState=="finished"){i.finishedPromise.resolve(i.proxy),i.animation.pause();var n=new CustomEvent("finish",{detail:{currentTime:i.proxy.currentTime,timelineTime:i.proxy.timeline.currentTime}});Object.defineProperty(n,"currentTime",{get:function(){return this.detail.currentTime}}),Object.defineProperty(n,"timelineTime",{get:function(){return this.detail.timelineTime}}),requestAnimationFrame(function(){queueMicrotask(function(){i.animation.dispatchEvent(n)})})}}function ne(i){return i.pendingPlaybackRate!==null?i.pendingPlaybackRate:i.animation.playbackRate}function j(i){i.pendingPlaybackRate!==null&&(i.animation.playbackRate=i.pendingPlaybackRate,i.pendingPlaybackRate=null)}function Oe(i){if(!i.timeline)return null;var n=x(i,i.timeline.currentTime);if(n===null||i.startTime===null)return null;var e=(n-i.startTime)*i.animation.playbackRate;return e==-0&&(e=0),e}function Le(i,n){if(!i.timeline)return null;var e=x(i,i.timeline.currentTime);return e==null?null:e-n/i.animation.playbackRate}function H(i,n,e){if(i.timeline){var t=n?x(i,i.proxy.currentTime):Oe(i);if(t&&i.startTime!=null&&!i.proxy.pending){var r=ne(i),o=W(i),a=i.previousCurrentTime;r>0&&t>=o?((a===null||a<o)&&(a=o),i.holdTime=n?t:a):r<0&&t<=0?((a==null||a>0)&&(a=0),i.holdTime=n?t:a):r!=0&&(n&&i.holdTime!==null&&(i.startTime=Le(i,i.holdTime)),i.holdTime=null)}$(i),i.previousCurrentTime=x(i,i.proxy.currentTime),i.proxy.playState=="finished"?(i.finishedPromise||(i.finishedPromise=new ee),i.finishedPromise.state=="pending"&&(e?Ae(i):Promise.resolve().then(function(){Ae(i)}))):(i.finishedPromise&&i.finishedPromise.state=="resolved"&&(i.finishedPromise=new ee),i.animation.playState!="paused"&&i.animation.pause())}}function W(i){var n=function(e){var t=e.proxy.effect.getTiming();return e.normalizedTiming||t}(i);return Math.max(0,n.delay+n.endDelay+n.iterations*n.duration)}function $(i){if(i.timeline)if(i.startTime!==null){var n=i.timeline.currentTime;if(n==null)return;Ee(i,(x(i,n)-i.startTime)*i.animation.playbackRate)}else i.holdTime!==null&&Ee(i,i.holdTime)}function Ee(i,n){var e=i.timeline,t=i.animation.playbackRate;i.animation.currentTime=n+(e.currentTime&&e.currentTime.value==(t<0?0:100)?t<0?.001:-.001:0)}function be(i,n){if(i.timeline){var e=i.proxy.playState=="paused"&&i.proxy.pending,t=!1,r=null,o=x(i,i.proxy.currentTime);i.resetCurrentTimeOnResume&&(o=null,i.resetCurrentTimeOnResume=!1);var a=ne(i),l=W(i);if(a>0&&n&&(o==null||o<0||o>=l))r=0;else if(a<0&&n&&(o==null||o<=0||o>l)){if(l==1/0)return void i.animation.play();r=l}else a==0&&o==null&&(r=0);r!=null&&(i.startTime=r,i.holdTime=null,j(i)),ae(i.timeline,i.animation,We.bind(i.proxy)),i.holdTime&&(i.startTime=null),i.pendingTask&&(i.pendingTask=null,t=!0),(i.holdTime!==null||r!==null||e||i.pendingPlaybackRate!==null)&&(i.readyPromise&&!t&&(i.readyPromise=null),$(i),i.readyPromise||ue(i),i.pendingTask="play",H(i,!1,!1))}}function We(i){var n=p.get(this);if(i!=null){n.pendingTask&&je(n);var e=this.playState;e!="running"&&e!="finished"||(Ee(n,(x(n,i)-x(n,this.startTime))*this.playbackRate),e=="finished"&&ne(n)!=0&&(n.holdTime=null),H(n,!1,!1))}else n.animation.playState!="idle"&&n.animation.cancel()}function je(i){i.pendingTask=="pause"?function(n){var e=x(n,n.timeline.currentTime);n.startTime!=null&&n.holdTime==null&&(n.holdTime=(e-n.startTime)*n.animation.playbackRate),j(n),n.startTime=null,n.readyPromise.resolve(n.proxy),H(n,!1,!1),$(n),n.pendingTask=null}(i):i.pendingTask=="play"&&function(n){var e=x(n,n.timeline.currentTime);if(n.holdTime!=null)j(n),n.animation.playbackRate==0?n.startTime=e:(n.startTime=e-n.holdTime/n.animation.playbackRate,n.holdTime=null);else if(n.startTime!==null&&n.pendingPlaybackRate!==null){var t=(e-n.startTime)*n.animation.playbackRate;j(n);var r=n.animation.playbackRate;r==0?(n.holdTime=null,n.startTime=e):n.startTime=e-t/r}n.readyPromise&&n.readyPromise.state=="pending"&&n.readyPromise.resolve(n.proxy),H(n,!1,!1),$(n),n.pendingTask=null}(i)}var p=new WeakMap,we=function(){function i(e,t,r){r===void 0&&(r={});var o=e instanceof Ne?e:new Ne(e,l),a=t instanceof q,l=a?void 0:t;p.set(this,{animation:o,timeline:a?t:void 0,playState:a?"idle":null,readyPromise:null,finishedPromise:null,startTime:null,holdTime:null,previousCurrentTime:null,resetCurrentTimeOnResume:!1,pendingPlaybackRate:null,pendingTask:null,specifiedTiming:null,normalizedTiming:null,effect:null,timeRange:t instanceof ViewTimeline?Qe(r):null,proxy:this})}var n=i.prototype;return n.finish=function(){var e=p.get(this);if(e.timeline){var t=ne(e),r=W(e);if(t==0)throw new DOMException("Cannot finish Animation with a playbackRate of 0.","InvalidStateError");if(t>0&&r==1/0)throw new DOMException("Cannot finish Animation with an infinite target effect end.","InvalidStateError");j(e);var o=t<0?0:r;this.currentTime=te(e,o);var a=x(e,e.timeline.currentTime);e.startTime===null&&a!==null&&(e.startTime=a-o/e.animation.playbackRate),e.pendingTask=="pause"&&e.startTime!==null&&(e.holdTime=null,e.pendingTask=null,e.readyPromise.resolve(this)),e.pendingTask=="play"&&e.startTime!==null&&(e.pendingTask=null,e.readyPromise.resolve(this)),H(e,!0,!0)}else e.animation.finish()},n.play=function(){var e=p.get(this);e.timeline?be(e,!0):e.animation.play()},n.pause=function(){var e=p.get(this);if(e.timeline){if(this.playState!="paused"){var t=null,r=e.animation.playbackRate,o=W(e);if(e.animation.currentTime===null)if(r>=0)t=0;else{if(o==1/0)return void e.animation.pause();t=o}t!==null&&(e.startTime=t),e.pendingTask=="play"?e.pendingTask=null:e.readyPromise=null,e.readyPromise||ue(e),e.pendingTask="pause"}}else e.animation.pause()},n.reverse=function(){var e=p.get(this),t=ne(e),r=e.resetCurrentTimeOnResume?null:x(e,this.currentTime),o=W(e)==1/0,a=t!=0&&(t<0||r>0||!o);if(!e.timeline||!a)return a&&(e.pendingPlaybackRate=-ne(e)),void e.animation.reverse();if(e.timeline.phase=="inactive")throw new DOMException("Cannot reverse an animation with no active timeline","InvalidStateError");this.updatePlaybackRate(-t),be(e,!0)},n.updatePlaybackRate=function(e){var t=p.get(this);if(t.pendingPlaybackRate=e,t.timeline){if(!t.readyPromise||t.readyPromise.state!="pending")switch(this.playState){case"idle":case"paused":j(t);break;case"finished":var r=x(t,t.timeline.currentTime),o=r!==null?(r-t.startTime)*t.animation.playbackRate:null;t.startTime=e==0?r:r!=null&&o!=null?(r-o)/e:null,j(t),H(t,!1,!1),$(t);break;default:be(t,!1)}}else t.animation.updatePlaybackRate(e)},n.persist=function(){p.get(this).animation.persist()},n.cancel=function(){var e=p.get(this);e.timeline?(this.playState!="idle"&&(function(t){t.pendingTask&&(t.pendingTask=null,j(t),t.readyPromise.reject(_e()),ue(t),t.readyPromise.resolve(t.proxy))}(e),e.finishedPromise&&e.finishedPromise.state=="pending"&&e.finishedPromise.reject(_e()),e.finishedPromise=new ee,e.animation.cancel()),e.startTime=null,e.holdTime=null,J(e.timeline,e.animation)):e.animation.cancel()},n.addEventListener=function(e,t,r){p.get(this).animation.addEventListener(e,t,r)},n.removeEventListener=function(e,t,r){p.get(this).animation.removeEventListener(e,t,r)},n.dispatchEvent=function(e){p.get(this).animation.dispatchEvent(e)},h(i,[{key:"effect",get:function(){var e=p.get(this);return e.timeline?(e.effect||(e.effect=function(t){var r=t.animation.effect,o=r.updateTiming,a={apply:function(f){r.getTiming();var s=f.apply(r);if(t.timeline){s.localTime=te(t,s.localTime),s.endTime=te(t,s.endTime),s.activeDuration=te(t,s.activeDuration);var c=W(t);s.duration=c?CSS.percent(100*(s.iterations?(c-s.delay-s.endDelay)/s.iterations:0)/c):CSS.percent(0),t.timeline.currentTime===void 0&&(s.localTime=null)}return s}},l={apply:function(f,s){var c=1e5;if(t.specifiedTiming)return t.specifiedTiming;t.specifiedTiming=f.apply(r);var g,P,T=Object.assign({},t.specifiedTiming),_=!1;return t.timeline instanceof ViewTimeline&&(g=function(w){if(!(w.timeline instanceof ViewTimeline))return 0;var D=w.timeRange.start;return Me(w.timeline,D.name,D.offset)}(t),P=function(w){if(!(w.timeline instanceof ViewTimeline))return 0;var D=w.timeRange.end;return 1-Me(w.timeline,D.name,D.offset)}(t),_=!0),(T.duration===null||T.duration==="auto"||_)&&t.timeline&&(_?(T.delay=g*c,T.endDelay=P*c):(T.delay=0,T.endDelay=0),T.duration=T.iterations?((T.iterations?c:0)-T.delay-T.endDelay)/T.iterations:0,o.apply(r,[T])),t.normalizedTiming=T,t.specifiedTiming}},m={apply:function(f,s,c){if(t.timeline){var g=c[0];if(g.duration===1/0)throw TypeError("Effect duration cannot be Infinity when used with Scroll Timelines");if(g.iterations===1/0)throw TypeError("Effect iterations cannot be Infinity when used with Scroll Timelines")}t.specifiedTiming&&f.apply(r,[t.specifiedTiming]),f.apply(r,c),t.specifiedTiming=null}},d=new Proxy(r,{get:function(f,s){var c=f[s];return typeof c=="function"?c.bind(r):c},set:function(f,s,c){return f[s]=c,!0}});return d.getComputedTiming=new Proxy(r.getComputedTiming,a),d.getTiming=new Proxy(r.getTiming,l),d.updateTiming=new Proxy(r.updateTiming,m),d}(e)),e.effect):e.animation.effect},set:function(e){p.get(this).animation.effect=e,details.effect=null}},{key:"timeline",get:function(){var e=p.get(this);return e.timeline||e.animation.timeline},set:function(e){var t=this.timeline;if(t!=e){var r=this.playState,o=this.currentTime,a=p.get(this),l=W(a),m=l>0?x(a,o)/l:0,d=t instanceof q,f=e instanceof q;a.resetCurrentTimeOnResume=!1;var s=this.pending;if(d&&J(a.timeline,a.animation),f){a.timeline=e,j(a);var c=a.animation.playbackRate>=0?0:W(a);switch(r){case"running":case"finished":a.startTime=c,ae(a.timeline,a.animation,We.bind(this));break;case"paused":a.resetCurrentTimeOnResume=!0,a.startTime=null,a.holdTime=x(a,CSS.percent(100*m));break;default:a.holdTime=null,a.startTime=null}return s&&(a.readyPromise&&a.readyPromise.state!="resolved"||ue(a),a.pendingTask=r=="paused"?"pause":"play"),a.startTime!==null&&(a.holdTime=null),void H(a,!1,!1)}if(a.animation.timeline!=e)throw TypeError("Unsupported timeline: "+e);if(J(a.timeline,a.animation),a.timeline=null,d)switch(o!==null&&(a.animation.currentTime=m*W(a)),r){case"paused":a.animation.pause();break;case"running":case"finished":a.animation.play()}}}},{key:"startTime",get:function(){var e=p.get(this);return e.timeline?te(e,e.startTime):e.animation.startTime},set:function(e){var t=p.get(this);if(e=x(t,e),t.timeline){x(t,t.timeline.currentTime)==null&&t.startTime!=null&&(t.holdTime=null,$(t));var r=x(t,this.currentTime);j(t),t.startTime=e,t.resetCurrentTimeOnResume=!1,t.holdTime=t.startTime!==null&&t.animation.playbackRate!=0?null:r,t.pendingTask&&(t.pendingTask=null,t.readyPromise.resolve(this)),H(t,!0,!1),$(t)}else t.animation.startTime=e}},{key:"currentTime",get:function(){var e=p.get(this);return e.timeline?te(e,e.holdTime!=null?e.holdTime:Oe(e)):e.animation.currentTime},set:function(e){var t=p.get(this);if(e=x(t,e),t.timeline&&e!=null){var r=t.timeline.phase;t.holdTime!==null||t.startTime===null||r=="inactive"||t.animation.playbackRate==0?t.holdTime=e:t.startTime=Le(t,e),t.resetCurrentTimeOnResume=!1,r=="inactive"&&(t.startTime=null),t.previousCurrentTime=null,t.pendingTask=="pause"&&(t.holdTime=e,j(t),t.startTime=null,t.pendingTask=null,t.readyPromise.resolve(this)),H(t,!0,!1)}else t.animation.currentTime=e}},{key:"playbackRate",get:function(){return p.get(this).animation.playbackRate},set:function(e){var t=p.get(this);if(t.timeline){t.pendingPlaybackRate=null;var r=this.currentTime;t.animation.playbackRate=e,r!==null&&(this.currentTime=r)}else t.animation.playbackRate=e}},{key:"playState",get:function(){var e=p.get(this);if(!e.timeline)return e.animation.playState;var t=x(e,this.currentTime);return t===null&&e.startTime===null&&e.pendingTask==null?"idle":e.pendingTask=="pause"||e.startTime===null&&e.pendingTask!="play"?"paused":t!=null&&(e.animation.playbackRate>0&&t>=W(e)||e.animation.playbackRate<0&&t<=0)?"finished":"running"}},{key:"replaceState",get:function(){return p.get(this).animation.pending}},{key:"pending",get:function(){var e=p.get(this);return e.timeline?!!e.readyPromise&&e.readyPromise.state=="pending":e.animation.pending}},{key:"id",get:function(){return p.get(this).animation.id}},{key:"onfinish",get:function(){return p.get(this).animation.onfinish},set:function(e){p.get(this).animation.onfinish=e}},{key:"oncancel",get:function(){return p.get(this).animation.oncancel},set:function(e){p.get(this).animation.oncancel=e}},{key:"onremove",get:function(){return p.get(this).animation.onremove},set:function(e){p.get(this).animation.onremove=e}},{key:"finished",get:function(){var e=p.get(this);return e.timeline?(e.finishedPromise||(e.finishedPromise=new ee),e.finishedPromise.promise):e.animation.finished}},{key:"ready",get:function(){var e=p.get(this);return e.timeline?(e.readyPromise||(e.readyPromise=new ee,e.readyPromise.resolve(this)),e.readyPromise.promise):e.animation.ready}}]),i}();function qe(i,n){if(!i)return null;var e=i.split(" ");if(!Pe.includes(e[0])||e.length==2&&!e[1].endsWith("%"))throw TypeError("Invalid animation delay");var t=n;if(e.length==2){var r=parseFloat(e[1]);if(Number.isNaN(r))throw TypeError('"'+e[1]+'" is not a valid percentage for animation delay');t=CSS.percent(r)}return{name:e[0],offset:t}}function De(){return{name:"cover",offset:CSS.percent(0)}}function Ve(){return{name:"cover",offset:CSS.percent(100)}}function Qe(i){var n=Be(i["animation-time-range"]);return i["animation-delay"]&&(n.start=qe(i["animation-delay"],De().offset)),i["animation-end-delay"]&&(n.end=qe(i["animation-end-delay"],Ve().offset)),n}function Be(i){var n={start:De(),end:Ve()};if(!i)return n;var e=i.split(" "),t=[],r=[];if(e.forEach(function(o){o.endsWith("%")?r.push(parseFloat(o)):t.push(o)}),t.length>2||r.length>2||r.length==1)throw TypeError("Invalid time range");return t.length&&(n.start.name=t[0],n.end.name=t.length>1?t[1]:t[0]),r.length>1&&(n.start.offset=CSS.percent(r[0]),n.end.offset=CSS.percent(r[1])),n}var N={IDENTIFIER:/[\w\\\@_-]+/g,WHITE_SPACE:/\s*/g,NUMBER:/^[0-9]+/,TIME:/^[0-9]+(s|ms)/,VIEW_TIMELINE:/view-timeline\s*:([^;}]+)/,VIEW_TIMELINE_NAME:/view-timeline-name\s*:([^;}]+)/,VIEW_TIMELINE_AXIS:/view-timeline-axis\s*:([^;}]+)/,ANIMATION_TIMELINE:/animation-timeline\s*:([^;}]+)/,ANIMATION_DELAY:/animation-delay\s*:([^;}]+)/,ANIMATION_END_DELAY:/animation-end-delay\s*:([^;}]+)/,ANIMATION_TIME_RANGE:/animation-time-range\s*:([^;}]+)/,ANIMATION_NAME:/animation-name\s*:([^;}]+)/,ANIMATION:/animation\s*:([^;}]+)/,SOURCE_ELEMENT:/selector\(#([^)]+)\)/},ke=["block","inline","vertical","horizontal"],Ze=["nearest","root"],K=new(function(){function i(){this.cssRulesWithTimelineName=[],this.scrollTimelineOptions=new Map,this.nextAnonymousTimelineNameIndex=0,this.anonymousScrollTimelineOptions=new Map,this.subjectSelectorToViewTimeline=[],this.keyframeNamesSelectors=new Map}var n=i.prototype;return n.transpileStyleSheet=function(e,t,r){for(var o={sheetSrc:e,index:0,name:r};o.index<o.sheetSrc.length&&(this.eatWhitespace(o),!(o.index>=o.sheetSrc.length));)if(this.lookAhead("/*",o))for(;this.lookAhead("/*",o);)this.eatComment(o),this.eatWhitespace(o);else if(this.lookAhead("@scroll-timeline",o)){var a=this.parseScrollTimeline(o).scrollTimeline;t&&this.scrollTimelineOptions.set(a.name,a)}else{var l=this.parseQualifiedRule(o);if(!l)continue;t?this.parseKeyframesAndSaveNameMapping(l,o):this.handleScrollTimelineProps(l,o)}return o.sheetSrc},n.getAnimationTimelineOptions=function(e,t){for(var r=this.cssRulesWithTimelineName.length-1;r>=0;r--){var o=this.cssRulesWithTimelineName[r];if(t.matches(o.selector)&&(!o["animation-name"]||o["animation-name"]==e))return{"animation-timeline":o["animation-timeline"],"animation-delay":o["animation-delay"],"animation-end-delay":o["animation-end-delay"],"animation-time-range":o["animation-time-range"]}}return null},n.getSourceElement=function(e){var t=N.SOURCE_ELEMENT.exec(e);return t?document.getElementById(t[1]):e==="auto"?document.scrollingElement:null},n.getAnonymousScrollTimelineOptions=function(e,t){var r=this.anonymousScrollTimelineOptions.get(e);return r?{anonymousSource:r.source,anonymousTarget:t,source:Re(r.source,t),orientation:r.orientation?r.orientation:"block"}:null},n.getScrollTimelineOptions=function(e,t){var r=this.getAnonymousScrollTimelineOptions(e,t);if(r)return r;var o=this.scrollTimelineOptions.get(e);if(o!=null&&o.source){var a=this.getSourceElement(o.source);return k({},a?{source:a}:{},o.orientation!="auto"?{orientation:o.orientation}:{})}return null},n.findPreviousSiblingOrAncestorMatchingSelector=function(e,t){for(var r=e;r;){if(r.matches(t))return r;r=r.previousElementSibling||r.parentElement}return null},n.getViewTimelineOptions=function(e,t){for(var r=this.subjectSelectorToViewTimeline.length-1;r>=0;r--){var o=this.subjectSelectorToViewTimeline[r];if(o.name==e){var a=this.findPreviousSiblingOrAncestorMatchingSelector(t,o.selector);if(a)return{subject:a,axis:o.axis,inset:o.inset}}}return null},n.parseScrollTimeline=function(e){var t=e.index;this.assertString(e,"@scroll-timeline"),this.eatWhitespace(e);var r=this.parseIdentifier(e);this.eatWhitespace(e),this.assertString(e,"{"),this.eatWhitespace(e);for(var o={name:r,source:"auto",orientation:void 0};this.peek(e)!=="}";){var a=this.parseIdentifier(e);this.eatWhitespace(e),this.assertString(e,":"),this.eatWhitespace(e),o[a]=this.removeEnclosingDoubleQuotes(this.eatUntil(";",e)),this.assertString(e,";"),this.eatWhitespace(e)}this.assertString(e,"}");var l=e.index;return this.eatWhitespace(e),{scrollTimeline:o,startIndex:t,endIndex:l}},n.handleScrollTimelineProps=function(e,t){var r=this;if(!e.selector.includes("@keyframes")){var o=e.block.contents.includes("animation-name:"),a=e.block.contents.includes("animation-timeline:"),l=e.block.contents.includes("animation:");this.saveSubjectSelectorToViewTimeline(e);var m=[],d=[];a&&(m=this.extractScrollTimelineNames(e.block.contents)),o&&(d=this.extractMatches(e.block.contents,N.ANIMATION_NAME)),a&&o||l&&this.extractMatches(e.block.contents,N.ANIMATION).forEach(function(f){var s=r.extractAnimationName(f),c=r.extractTimelineName(f);s&&d.push(s),c&&(m.push(c),e.block.contents=e.block.contents.replace(c," ".repeat(c.length)),r.replacePart(e.block.startIndex,e.block.endIndex,e.block.contents,t)),(c||a)&&(r.hasDuration(f)||(e.block.contents=e.block.contents.replace("animation:","animation: 1s "),r.replacePart(e.block.startIndex,e.block.endIndex,e.block.contents,t)))}),this.saveRelationInList(e,m,d)}},n.saveSubjectSelectorToViewTimeline=function(e){var t=e.block.contents.includes("view-timeline:"),r=e.block.contents.includes("view-timeline-name:"),o=e.block.contents.includes("view-timeline-axis:");if(t||r){var a={selector:e.selector,name:"",axis:"block"};if(t){var l=this.extractMatches(e.block.contents,N.VIEW_TIMELINE,separator=" ");l.length==1?a.name=l[0]:l.length==2&&(ke.includes(l[0])?(a.axis=l[0],a.name=l[1]):(a.axis=l[1],a.name=l[0]))}if(r){var m=this.extractMatches(e.block.contents,N.VIEW_TIMELINE_NAME);a.name=m[0]}if(o){var d=this.extractMatches(e.block.contents,N.VIEW_TIMELINE_AXIS);ke.includes(d[0])&&(a.axis=d[0])}this.subjectSelectorToViewTimeline.push(a)}},n.hasDuration=function(e){return e.split(" ").filter(function(t){return N.TIME.exec(t)}).length>=1},n.saveRelationInList=function(e,t,r){var o=e.block.contents.includes("animation-delay:"),a=e.block.contents.includes("animation-end-delay:"),l=e.block.contents.includes("animation-time-range:"),m=[],d=[],f=[];o&&(m=this.extractMatches(e.block.contents,N.ANIMATION_DELAY)),a&&(d=this.extractMatches(e.block.contents,N.ANIMATION_END_DELAY)),l&&(f=this.extractMatches(e.block.contents,N.ANIMATION_TIME_RANGE));for(var s=Math.max(t.length,r.length,m.length,d.length,f.length),c=0;c<s;c++)this.cssRulesWithTimelineName.push(k({selector:e.selector,"animation-timeline":t[c%t.length]},r.length?{"animation-name":r[c%r.length]}:{},m.length?{"animation-delay":m[c%m.length]}:{},d.length?{"animation-end-delay":d[c%d.length]}:{},f.length?{"animation-time-range":f[c%f.length]}:{}))},n.extractScrollTimelineNames=function(e){var t=this,r=N.ANIMATION_TIMELINE.exec(e)[1].trim(),o=[];return r.split(",").map(function(a){return a.trim()}).forEach(function(a){if(function(m){return m.startsWith("scroll")&&m.includes("(")}(a)){var l=t.saveAnonymousTimelineName(a);o.push(l)}else o.push(a)}),o},n.saveAnonymousTimelineName=function(e){var t=":t"+this.nextAnonymousTimelineNameIndex++;return this.anonymousScrollTimelineOptions.set(t,this.parseAnonymousTimeline(e)),t},n.parseAnonymousTimeline=function(e){var t=e.indexOf("("),r=e.indexOf(")");if(!e.startsWith("scroll")||t==-1||r==-1)return null;var o=e.substring(t+1,r),a={};return o.split(" ").forEach(function(l){ke.includes(l)?a.orientation=l:Ze.includes(l)&&(a.source=l)}),a},n.extractAnimationName=function(e){return this.findMatchingEntryInContainer(e,this.keyframeNamesSelectors)},n.extractTimelineName=function(e){return this.findMatchingEntryInContainer(e,this.scrollTimelineOptions)},n.findMatchingEntryInContainer=function(e,t){var r=e.split(" ").filter(function(o){return t.has(o)});return r?r[0]:null},n.parseIdentifier=function(e){N.IDENTIFIER.lastIndex=e.index;var t=N.IDENTIFIER.exec(e.sheetSrc);if(!t)throw this.parseError(e,"Expected an identifier");return e.index+=t[0].length,t[0]},n.parseKeyframesAndSaveNameMapping=function(e,t){var r=this;if(e.selector.startsWith("@keyframes")){var o=this.replaceKeyframesAndGetMapping(e,t);e.selector.split(" ").forEach(function(a,l){l>0&&r.keyframeNamesSelectors.set(a,o)})}},n.replaceKeyframesAndGetMapping=function(e,t){function r(g){return Pe.some(function(P){return g.startsWith(P)})}var o=e.block.contents,a=function(g){for(var P=0,T=-1,_=[],w=0;w<g.length;w++)g[w]=="{"?P++:g[w]=="}"&&P--,P==1&&g[w]!="{"&&g[w]!="}"&&T==-1&&(T=w),P==2&&g[w]=="{"&&(_.push({start:T,end:w}),T=-1);return _}(o);if(a.length==0)return new Map;var l=new Map,m=!1,d=[];d.push(o.substring(0,a[0].start));for(var f=0;f<a.length;f++){var s=o.substring(a[f].start,a[f].end).split(" ").map(function(g){return g.trim()}).filter(function(g){return g!=""}).join(" "),c=l.size;l.set(c,s),d.push(c+"%"),r(s)&&(m=!0),d.push(f==a.length-1?o.substring(a[f].end):o.substring(a[f].end,a[f+1].start))}return m?(e.block.contents=d.join(""),this.replacePart(e.block.startIndex,e.block.endIndex,e.block.contents,t),l):new Map},n.parseQualifiedRule=function(e){var t=e.index,r=this.parseSelector(e).trim();if(r)return{selector:r,block:this.eatBlock(e),startIndex:t,endIndex:e.index}},n.removeEnclosingDoubleQuotes=function(e){return e.substring(e[0]=='"'?1:0,e[e.length-1]=='"'?e.length-1:e.length)},n.assertString=function(e,t){if(e.sheetSrc.substr(e.index,t.length)!=t)throw this.parseError(e,"Did not find expected sequence "+t);e.index+=t.length},n.replacePart=function(e,t,r,o){o.sheetSrc=o.sheetSrc.slice(0,e)+r+o.sheetSrc.slice(t),o.index>=t&&(o.index=e+r.length+(o.index-t))},n.eatComment=function(e){this.assertString(e,"/*"),this.eatUntil("*/",e,!0),this.assertString(e,"*/")},n.eatBlock=function(e){var t=e.index;this.assertString(e,"{");for(var r=1;r!=0;)this.lookAhead("/*",e)?this.eatComment(e):(e.sheetSrc[e.index]==="{"?r++:e.sheetSrc[e.index]==="}"&&r--,this.advance(e));var o=e.index;return{startIndex:t,endIndex:o,contents:e.sheetSrc.slice(t,o)}},n.advance=function(e){if(e.index++,e.index>e.sheetSrc.length)throw this.parseError(e,"Advanced beyond the end")},n.eatUntil=function(e,t,r){r===void 0&&(r=!1);for(var o=t.index;!this.lookAhead(e,t);)this.advance(t);return r&&(t.sheetSrc=t.sheetSrc.slice(0,o)+" ".repeat(t.index-o)+t.sheetSrc.slice(t.index)),t.sheetSrc.slice(o,t.index)},n.parseSelector=function(e){var t=e.index;if(this.eatUntil("{",e),t===e.index)throw Error("Empty selector");return e.sheetSrc.slice(t,e.index)},n.eatWhitespace=function(e){N.WHITE_SPACE.lastIndex=e.index;var t=N.WHITE_SPACE.exec(e.sheetSrc);t&&(e.index+=t[0].length)},n.lookAhead=function(e,t){return t.sheetSrc.substr(t.index,e.length)==e},n.peek=function(e){return e.sheetSrc[e.index]},n.extractMatches=function(e,t,r){return r===void 0&&(r=","),t.exec(e)[1].trim().split(r).map(function(o){return o.trim()})},i}());function Je(i,n,e,t,r,o){return Ce(Se(i,n,e,t,r),o,Se("cover",n,e,t,r))}if(function(){if(!CSS.supports("animation-timeline: works")){(function(){function n(e){if(e.innerHTML.trim().length!==0){var t=K.transpileStyleSheet(e.innerHTML,!0);t=K.transpileStyleSheet(t,!1),e.innerHTML=t}}new MutationObserver(function(e){for(var t,r=O(e);!(t=r()).done;)for(var o,a=O(t.value.addedNodes);!(o=a()).done;){var l=o.value;l instanceof HTMLStyleElement&&n(l)}}).observe(document.documentElement,{childList:!0,subtree:!0}),document.querySelectorAll("style").forEach(function(e){return n(e)}),document.querySelectorAll("link").forEach(function(e){})})();var i=new WeakMap;window.addEventListener("animationstart",function(n){n.target.getAnimations().filter(function(e){return e.animationName===n.animationName}).forEach(function(e){i.has(n.target)||i.set(n.target,new Map);var t=i.get(n.target);if(!t.has(e.animationName)){var r=function(a,l,m){var d=K.getAnimationTimelineOptions(l,m),f=d["animation-timeline"];if(!f)return null;var s=K.getScrollTimelineOptions(f,m)||K.getViewTimelineOptions(f,m);return s?(s.subject&&function(c,g){var P=ye(g.subject),T=g.axis||g.orientation,_=K.keyframeNamesSelectors.get(c.animationName);if(_&&_.size){var w=[];c.effect.getKeyframes().forEach(function(U){var V=function(Q,Z){for(var le,ie=null,Y=O(Q);!(le=Y()).done;){var me=le.value,A=me[1];if(me[0]==100*Z.offset){if(A=="from")ie=0;else if(A=="to")ie=100;else{var B=A.split(" ");ie=B.length==1?parseFloat(B[0]):100*Je(B[0],P,g.subject,T,g.inset,CSS.percent(parseFloat(B[1])))}break}}return ie}(_,U);V!==null&&V>=0&&V<=100&&(U.offset=V/100,w.push(U))});var D=w.sort(function(U,V){return U.offset<V.offset?-1:U.affset>V.offset?1:0});c.effect.setKeyframes(D),K.keyframeNamesSelectors.set(c.animationName,null)}}(a,s),{timeline:s.source?new q(s):new ce(s),animOptions:d}):null}(e,e.animationName,n.target);t.set(e.animationName,r&&r.timeline&&e.timeline!=r.timeline?new we(e,r.timeline,r.animOptions):null)}var o=t.get(e.animationName);o!==null&&(e.pause(),o.play())})})}}(),[].concat(document.styleSheets).filter(function(i){return i.href!==null}).length&&console.warn("Non-Inline StyleSheets detected: ScrollTimeline polyfill currently only supports inline styles within style tags"),!Reflect.defineProperty(window,"ScrollTimeline",{value:q}))throw Error("Error installing ScrollTimeline polyfill: could not attach ScrollTimeline to window");if(!Reflect.defineProperty(window,"ViewTimeline",{value:ce}))throw Error("Error installing ViewTimeline polyfill: could not attach ViewTimeline to window");if(!Reflect.defineProperty(Element.prototype,"animate",{value:function(i,n){var e=n.timeline;e instanceof q&&delete n.timeline;var t=function(f,s){if(s in f){var c=f[s];return typeof c!="number"?(delete f[s],c):null}},r=function(f,s){s&&(s.phase&&(f.name=s.phase),s.percent&&(f.offset=s.percent))},o=t(n,"delay"),a=t(n,"endDelay"),l=Ke.apply(this,[i,n]),m=new we(l,e);if(e instanceof q){if(l.pause(),e instanceof ViewTimeline){var d=p.get(m);d.timeRange=Be(n.timeRange),r(d.timeRange.start,o),r(d.timeRange.end,a)}m.play()}return m}}))throw Error("Error installing ScrollTimeline polyfill: could not attach WAAPI's animate to DOM Element");if(!Reflect.defineProperty(window,"Animation",{value:we}))throw Error("Error installing Animation constructor.")})();const tt="inline";let He,se;const fe={delay:{phase:"enter",percent:CSS.percent(0)},endDelay:{phase:"enter",percent:CSS.percent(100)},fill:"both"},nt=(u,h)=>{window.CHROMETOBER_TIMELINES||(window.CHROMETOBER_TIMELINES=[]);const k=document.querySelector(`[data-scroll-target="${u.getAttribute("data-scroll-trigger")}"]`),I=new ViewTimeline({subject:u,axis:tt});if(window.CHROMETOBER_TIMELINES.push(I),h===0){He.animate([{translate:"50% 0"}],{timeline:I,...fe});const y=document.querySelectorAll(".book-instruction :is(span, svg)");y.forEach((v,E)=>{v.animate([{translate:`0 ${y.length-E}50%`}],{timeline:I,...fe})})}k.animate([{transform:`translateZ(${(se.length-h)*2}px)`},{transform:`translateZ(${(se.length-h)*2}px)`,offset:.75},{transform:`translateZ(${(se.length-h)*-1}px)`}],{timeline:I,...fe}),k.querySelector(".page__paper").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],{timeline:I,...fe})},it=()=>{He=document.querySelector(".book"),se=document.querySelectorAll("[data-scroll-trigger]"),document.querySelector("[data-scroll-intro]"),document.querySelector("[data-scroll-outro]"),document.querySelector("[data-scroll-intro-two]"),se.forEach(nt),document.querySelectorAll("article").forEach(u=>{const h=u.querySelector("h2").innerText;u.addEventListener("click",()=>{u.querySelector("a")?.click(),window.ga&&ga("send","event",{event_action:"Read more",event_label:h,event_category:"Chrometober Book",non_interaction:!1})})})};it();const rt=()=>{const u=document.querySelector(".scarecrow__eye--left"),h=document.querySelector(".scarecrow__eye--right");u.animate([{transform:"translateX(-150%) scale(0.3)"},{transform:"none"}],{timeline:CHROMETOBER_TIMELINES[0],timeRange:"enter 25% 90%",fill:"both"}),h.animate([{transform:"translateX(-100%) scale(0.5)"},{transform:"none"}],{timeline:CHROMETOBER_TIMELINES[0],timeRange:"enter 25% 90%",fill:"both"})};rt();const at=()=>{const u=document.querySelector(".coffin__lid"),h=document.querySelector(".coffin__zombie");u.animate([{transform:"rotate(-1deg)"},{transform:"rotate(3deg) scale(1.1) translateX(18%)"}],{timeline:CHROMETOBER_TIMELINES[2],timeRange:"enter 105% 180%",fill:"both"}),h.animate([{transform:"translateX(-20%)"},{transform:"translateX(0%)"}],{timeline:CHROMETOBER_TIMELINES[2],timeRange:"enter 20% 95%",fill:"backwards"}),h.animate([{transform:"translateX(0%)"},{transform:"translateX(-20%)"}],{timeline:CHROMETOBER_TIMELINES[2],timeRange:"enter 105% 180%",fill:"forwards"})};window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&at();const ot=(u,h,k,I)=>{const y=h-u,v=I-k;return E=>k+((E-u)/y*v||0)};let re;const L=document.querySelector(".wand-canvas");let z=L.getContext("2d");const Ue=L.closest(".page__side"),ge=[],ze=({x:u,y:h,movementX:k,movementY:I})=>{const y=ge.filter(S=>S.active===!1),v=Math.floor(ot(0,100,L.height*.05,L.height*.25)(Math.max(Math.abs(k),Math.abs(I)))),{left:E,top:O,width:b,height:R}=L.getBoundingClientRect();if(y.length!==0)y[0].active=!0,y[0].size=v,y[0].x=u-E-v*.5,y[0].y=h-O-v*.5,y[0].hue=Math.floor(Math.random()*359);else{const S={active:!0,hue:Math.floor(Math.random()*359),x:u-E-v*.5,y:h-O-v*.5,size:v};ge.push(S)}},Fe=()=>{Ue.className.indexOf("in-view")===-1&&re&&(z.clearRect(0,0,L.width,L.height),cancelAnimationFrame(re),document.body.removeEventListener("pointermove",ze),document.removeEventListener("resize",Ie)),z.clearRect(0,0,L.width,L.height);for(const u of ge.filter(h=>h.active))z.strokeStyle=z.fillStyle=`hsla(${u.hue}, 80%, 80%, 0.5)`,z.beginPath(),z.arc(u.x,u.y,u.size*.5,0,2*Math.PI),z.stroke(),z.fill(),u.size-=1,u.size===0&&(u.active=!1);re=requestAnimationFrame(Fe)},Ie=()=>{const{height:u,width:h}=L.getBoundingClientRect();L.height=u,L.width=h,z=L.getContext("2d"),ge.length=0,re&&cancelAnimationFrame(re),re=requestAnimationFrame(Fe)},lt=()=>{window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&setTimeout(()=>{Ie(),document.body.addEventListener("pointermove",ze),window.addEventListener("resize",Ie)},500)};Ue.triggers=[{el:null,action:lt,trigger:null}];const st=()=>{const u=document.querySelector(".gargoyle"),h=u.querySelector(".gargoyle__wing--left"),k=u.querySelector(".gargoyle__wing--right");u.animate([{transform:"translateY(0)"},{transform:"translateY(-200%)"}],{fill:"both",timeline:CHROMETOBER_TIMELINES[2],delay:{phase:"enter",percent:CSS.percent(110)},endDelay:{phase:"enter",percent:CSS.percent(150)}}),h.animate([{rotate:"0deg"},{rotate:"-35deg",offset:.5},{rotate:"0deg"}],{iterations:4,timeline:CHROMETOBER_TIMELINES[2],delay:{phase:"enter",percent:CSS.percent(90)},endDelay:{phase:"enter",percent:CSS.percent(150)},fill:"both"}),k.animate([{rotate:"0deg"},{rotate:"35deg",offset:.5},{rotate:"0deg"}],{iterations:4,timeline:CHROMETOBER_TIMELINES[2],delay:{phase:"enter",percent:CSS.percent(90)},endDelay:{phase:"enter",percent:CSS.percent(150)},fill:"both"})};window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&st();const ct=()=>{const u=document.querySelector(".bat");u.animate([{transform:"translateX(100%) translateY(-100%) scale(0.1)"},{transform:"none"}],{timeline:CHROMETOBER_TIMELINES[1],timeRange:"enter 25% 90%",fill:"backwards"}),u.animate([{transform:"none"},{transform:"translateX(-100%) translateY(-100%) scale(0.1)"}],{timeline:CHROMETOBER_TIMELINES[1],timeRange:"enter 110% 150%",fill:"forwards"})};window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&ct();const ut=()=>{document.querySelector(".bunny").animate([{rotate:"90deg"},{rotate:"0deg",translate:"0 0 "},{translate:"-50% 0",rotate:"0deg"}],{timeline:CHROMETOBER_TIMELINES[1],delay:{phase:"enter",percent:CSS.percent(25)},endDelay:{phase:"enter",percent:CSS.percent(90)},fill:"both"})};window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&ut();const mt=()=>{document.querySelector(".owl__owl").animate([{transform:"translateY(110%) scale(1.1)"},{transform:"translateY(10%) scale(1.1)"}],{timeline:CHROMETOBER_TIMELINES[1],timeRange:"enter 80% 90%",fill:"both"})};window.matchMedia("(prefers-reduced-motion: no-preference)").matches&&mt();const de=(u,h,k,I)=>{const y=h-u,v=I-k;return E=>k+((E-u)/y*v||0)},he=(u,h,k)=>Math.min(Math.max(k,u),h),C=15,G=80,ve=document.querySelector(".portrait"),Ye=ve.closest(".page__side"),pe=ve.querySelector(".portrait__eyes"),ft=ve.querySelector(".portrait__eye--left:not(.portrait__eye--mover)"),dt=ve.querySelector(".portrait__eye--right:not(.portrait__eye--mover)"),ht=({x:u,y:h})=>{if(Ye.className.indexOf("in-view")===-1)return;const{left:k,width:I,top:y,height:v}=ft.getBoundingClientRect(),{left:E,width:O,top:b,height:R}=dt.getBoundingClientRect(),S=k+I*.5,M=y+v*.5,F=he(-C,C,de(S-G,S+G,-C,C)(u)),X=he(-C,C,de(M-G,M+G,-C,C)(h)),J=E+O*.5,ae=b+R*.5,q=he(-C,C,de(J-G,J+G,-C,C)(u)),oe=he(-C,C,de(ae-G,ae+G,-C,C)(h));pe.style.setProperty("--xl",F),pe.style.setProperty("--yl",X),pe.style.setProperty("--xr",q),pe.style.setProperty("--yr",oe)};Ye.triggers=[{el:window,trigger:"pointermove",action:ht}];
